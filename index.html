<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>First Arakha - Login</title>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    
    <style>
        body { font-family: 'Pyidaungsu', sans-serif; background: #eef2f7; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        .login-card { background: white; padding: 2.5rem; border-radius: 20px; box-shadow: 0 15px 35px rgba(0,0,0,0.1); width: 350px; text-align: center; border-top: 5px solid #0084ff; }
        h2 { color: #333; margin-bottom: 1rem; }
        input { width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #ddd; border-radius: 10px; box-sizing: border-box; outline: none; transition: 0.3s; }
        input:focus { border-color: #0084ff; box-shadow: 0 0 5px rgba(0,132,255,0.2); }
        button { width: 100%; padding: 12px; background: #0084ff; border: none; border-radius: 10px; color: white; font-weight: bold; cursor: pointer; transition: 0.3s; margin-top: 15px; font-size: 1rem; }
        button:hover { background: #0066cc; transform: translateY(-2px); }
        .toggle-text { margin-top: 20px; font-size: 0.9rem; color: #0084ff; cursor: pointer; text-decoration: underline; }
    </style>
</head>
<body>

<div class="login-card">
    <h2 id="title">အကောင့်ဝင်ပါ</h2>
    <input type="email" id="email" placeholder="အီးမေးလ် ရိုက်ထည့်ပါ">
    <input type="password" id="password" placeholder="လျှို့ဝှက်နံပါတ်">
    <button id="mainBtn" onclick="handleAuth()">အကောင့်ဝင်မည်</button>
    <p class="toggle-text" id="toggleBtn" onclick="toggleMode()">အကောင့်အသစ်ဖွင့်ရန်</p>
</div>

<script>
    // ကိုကိုပေးတဲ့ Config ကို ဒီမှာ ထည့်လိုက်ပြီနော်
    const firebaseConfig = {
        apiKey: "AIzaSyCpIv3avDNRYNrmrzKdMqfnMdNzBGZAPow",
        authDomain: "firstarakha.firebaseapp.com",
        projectId: "firstarakha",
        storageBucket: "firstarakha.firebasestorage.app",
        messagingSenderId: "4263070909",
        appId: "1:4263070909:web:ef4e4a2c0891be1f49bbd4",
        measurementId: "G-G33FGT86DN"
    };

    // Firebase ကို စတင်မယ်
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    let isLogin = true;

    function toggleMode() {
        isLogin = !isLogin;
        document.getElementById('title').innerText = isLogin ? "အကောင့်ဝင်ပါ" : "အကောင့်အသစ်ဖွင့်ပါ";
        document.getElementById('mainBtn').innerText = isLogin ? "အကောင့်ဝင်မည်" : "စာရင်းသွင်းမည်";
        document.getElementById('toggleBtn').innerText = isLogin ? "အကောင့်အသစ်ဖွင့်ရန်" : "အကောင့်ရှိပြီးသားလား? ဝင်လိုက်ပါ";
    }

    function handleAuth() {
        const email = document.getElementById('email').value;
        const password = document.getElementById('password').value;

        if (!email || !password) {
            alert("အီးမေးလ်နဲ့ လျှို့ဝှက်နံပါတ် အရင်ရိုက်ပါ ကိုကိုရယ်!");
            return;
        }

        if (isLogin) {
            auth.signInWithEmailAndPassword(email, password)
                .then((userCredential) => {
                    alert("အကောင့်ဝင်တာ အောင်မြင်တယ်... ကိုကို!");
                    // ဒီမှာ Chat Page ကို လွှဲပေးရမယ်
                })
                .catch((error) => alert("မှားနေတယ် ကိုကို: " + error.message));
        } else {
            auth.createUserWithEmailAndPassword(email, password)
                .then((userCredential) => {
                    alert("အကောင့်ဖွင့်တာ အောင်မြင်သွားပြီ... ကိုကို!");
                })
                .catch((error) => alert("အဆင်မပြေဘူး ကိုကို: " + error.message));
        }
    }
</script>

</body>
</html>
